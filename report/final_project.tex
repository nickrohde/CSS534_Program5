\documentclass{article}
\author{Nick Rohde}
\title{CSS 534 Program 5 Report}
\date{11$^{th}$ of December 2018}

\usepackage[margin=1in]{geometry} % page margins
\usepackage{graphicx} % images
\graphicspath{ {./images/} } % image path
\usepackage{xcolor} % link colours
\usepackage{hyperref} % links
\usepackage{listings} % code
\usepackage{color} % syntax colours
\usepackage{caption} % figure captions

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
	language=Java,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	numbers=none,
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve},
	breaklines=true,
	breakatwhitespace=true,
	tabsize=2
}

\hypersetup
{
	colorlinks=true,
	citecolor=black,
	filecolor=black,
	linkcolor=black,
	urlcolor=blue,
	linktoc=all,
	linkcolor=blue,
}

\begin{document}
\maketitle
\tableofcontents
\pagebreak
	
	\section{Overview} \label{OVERVIEW}
		
	
	\section{Discussion} \label{DISCUSSION}

	
	\section{Analysis} \label{ANALYSIS}


		\begin{minipage}{\linewidth}
			\centering
			\captionof{table}{Comparison of Computation for MPI} 
			\begin{tabular}{c|cc}\label{T1}
				\# Nodes & Average Execution Time (s)$^{\dagger}$ & Performance Improvement\\
				\hline
				1	& 32.8419	& N/A\\
				2	& 16.0231	& 2.050\\
				4	& 7.2312	& 4.542\\
			\noalign{\smallskip}\hline\noalign{\smallskip}
			\multicolumn{3}{l}{\tiny $^\dagger$ Average over 100 trials}
			\end{tabular}
		\smallskip\smallskip\smallskip\smallskip

			\centering
			\captionof{table}{Comparison of Computation for Spark} 
			\begin{tabular}{c|c|cc}\label{T2}
				\# Nodes & \#Cores & Execution Time & Performance Improvement\\
				\hline
				1	& 1 & 160.843	& N/A\\
				1	& 2 & 113.404	& 1.418\\
				1	& 3 & 77.057	& 2.087\\
				2	& 2 & 92.786	& 1.733\\
				2	& 4 & 60.676	& 2.650\\
				2	& 6 & 45.464	& 3.537\\
				4	& 4 & 68.041	& 2.363\\
				4	& 8 & 41.378	& \color{red}3.887\\
				4	& 12 & 45.328	& 3.548\\
			\noalign{\smallskip}\hline\noalign{\smallskip}
			\end{tabular}
		\smallskip\smallskip\smallskip\smallskip
		\end{minipage}


\pagebreak
	
	\section{Source Code} \label{SRC}
		\subsection{Program 5} \label{P5_SRC}
		The source code for Program 5 can also be found in the included src.zip folder.\\

				\begin{lstlisting}

				\end{lstlisting}
	
		\subsection{Laboratory 5} \label{L5_SRC}
			The source code for laboratory 5 \#TODO\\
			\begin{lstlisting}

			\end{lstlisting}
	
	\section{Output} \label{OUT}
		This section provides the output generated by program 5 \#TODO\\
		
		\subsection{Program 5} \label{P5_OUT}
			Performance: 1 compute node, 1 core: 457 seconds.\\
			\indent\indent\indent\indent $\phantom{:}$4 compute nodes, 5 cores: 193 seconds.\\
			Improvement: $\frac{457}{193} \approx $ 2.368 times.\\
		
			\begin{lstlisting}
/** Sequential Program **/
java SA 1000000 ../input_files/cities.txt
Best solution found:path: 21 -> 27 -> 24 -> 25 -> 7 -> 31 -> 2 -> 22 -> 18 -> 12 -> 15 -> 28 -> 26 -> 4 -> 20 -> 9 -> 32 -> 14 -> 8 -> 34 -> 30 -> 19 -> 13 -> 23 -> 6 -> 10 -> 35 -> 5 -> 0 -> 11 -> 33 -> 17 -> 29 -> 3 -> 1 -> 16 | distance: 447.38786463942176
Elapsed time:11409 ms.

--------------------------------------------

/** MPI Program **/
run_mpi 4 Runner 2000000 ../input_files/cities.txt
Solution is:path: 21 -> 27 -> 24 -> 25 -> 7 -> 31 -> 2 -> 22 -> 18 -> 12 -> 15 -> 28 -> 26 -> 4 -> 20 -> 9 -> 32 -> 14 -> 8 -> 34 -> 30 -> 19 -> 13 -> 23 -> 6 -> 10 -> 35 -> 5 -> 0 -> 11 -> 33 -> 17 -> 29 -> 3 -> 1 -> 16 | distance: 447.38786463942176
Execution time: 7898 ms.

-------------------------------------------

/** MapReduce Program **/

--------------------------------------------

/** Spark Program **/
spark-submit --class uwb.css534.prog5.App --master "spark://cssmpi1.uwb.edu:60007" --total-executor-cores 12 sa-tsp-spark-1.0-SNAPSHOT.jar 2000000 CSS534_Program5/code/input_files/cities.txt 12
Best solution found:path: 21 -> 27 -> 24 -> 25 -> 7 -> 31 -> 2 -> 22 -> 18 -> 12 -> 15 -> 28 -> 26 -> 4 -> 20 -> 9 -> 32 -> 14 -> 8 -> 34 -> 30 -> 19 -> 13 -> 23 -> 6 -> 10 -> 35 -> 5 -> 0 -> 11 -> 33 -> 17 -> 29 -> 3 -> 1 -> 16 | distance: 447.38786463942176
Elapsed time:15438 ms.

spark-submit --class uwb.css534.prog5.App --master "spark://cssmpi1.uwb.edu:60007" --total-executor-cores 12 sa-tsp-spark-1.0-SNAPSHOT.jar 10000000 CSS534_Program5/code/input_files/cities.txt 100
Best solution found:path: 21 -> 27 -> 24 -> 25 -> 7 -> 31 -> 2 -> 22 -> 18 -> 12 -> 15 -> 28 -> 26 -> 4 -> 20 -> 9 -> 32 -> 14 -> 8 -> 34 -> 30 -> 19 -> 13 -> 23 -> 6 -> 10 -> 35 -> 5 -> 0 -> 11 -> 33 -> 17 -> 29 -> 3 -> 1 -> 16 | distance: 447.38786463942176
Elapsed time:29135 ms.
--------------------------------------------

/** MASS Program **/


			\end{lstlisting}


		\subsection{Laboratory 5}\label{L5_OUT}	
\begin{lstlisting}

\end{lstlisting}


	
	
\end{document}